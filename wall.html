<!DOCTYPE HTML>
<!-- This document is the draft version for the wall for comp graphics assignment. It contains alot
of the Tutor's example code (resizing) and THREE.js's example codes -->

<html>
	<head>
		<title>Wall for room</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script src="js/OrbitControls.js"> </script>
			
		<script>
			//Standard combo of creating scene with camera view and rendering it. 
			var scene = new THREE.Scene(); //Near param is changed to 50 (or a value bigger than camera.z) to see through wall.
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 20, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );
			
			//This fucntion is called when the window is resized
			function windowResize ( ){
			renderer.setSize( window.innerWidth, window.innerHeight );
			camera.aspect = width/height;
			camera.updateProjectionMatrix();
			renderer.render(scene,camera);
			};

			window.addEventListener( 'resize', windowResize);
			
			//Orbit controls using mouse
			mControls = new THREE.OrbitControls( camera, renderer.domElement );

			//Creating the outer structure (walls/floor/ceiling) of the house
			//using BoxGeometry. Not good looking.
			//var wall = new THREE.BoxGeometry(10, 5, 0.2);
			//var material = new THREE.MeshBasicMaterial( { color: 0xbecee8 } );
			//var cube = new THREE.Mesh( wall, material );
			//scene.add( cube );
			
			//Creating the outer structure (walls/floor/ceiling) of the house
			//using PlaneGeometry.
			
			/*var floorGeometry = new THREE.PlaneGeometry(100, 50);
			var floorMaterial = new THREE.MeshBasicMaterial( { color: 0xbecee8 } );
			//floorMaterial.color = new THREE.Color(0.5,0.7,0.7);
			floorMaterial.side = THREE.DoubleSide; //Both sides of the faces are rendered
			var floor = new THREE.Mesh(floorGeometry, floorMaterial);
			//floor.position.y = -10; //moves floor down
			floor.rotation.x = Math.PI / 2; 
			floor.position.y = -25; //moving the ceiling to height of -25 units
			//Remember to add shadows. .shadowSide = THREE.DoubleSide
			var ceiling = floor.clone();
			ceiling.rotation.x = Math.PI / 2; // divide by 4 = 45 degrees.
			ceiling.position.y = 25; //moving the ceiling to height of 25 units
			
			var backWall = floor.clone(); 
			backWall.rotation.x = Math.PI/2;
			var frontWall = floor.clone();
			frontWall.position.z = 25;
			
			scene.add(frontWall);
			scene.add(backWall);
			scene.add(floor);
			scene.add(ceiling);
			*/
			
			/* v2 of creating walls and floors and outer of room.
			*/
			var wallGeo = new THREE.PlaneGeometry(100,50);
			var wallMat = new THREE.MeshBasicMaterial( { color: 0xbecee8 } );
			wallMat.side = THREE.DoubleSide;
			var wall = new THREE.Mesh(wallGeo,wallMat);
			
			var floor = wall.clone();
			floor.material.color = new THREE.Color(0x3d6191);
			floor.position.z = -25;
			var front = wall.clone();
			floor.rotation.x = Math.PI / 2;
			var ceiling = floor.clone();
			
			ceiling.position.y = 25;
			floor.position.y = -25;
			front.position.z = -50;
			
			scene.add(floor);
			scene.add(wall);
			scene.add(ceiling);
			scene.add(front);

			camera.position.set(0,0,80);
			//camera.lookAt(0,0,1);
			
			//function to play animations
			var animate = function () {
				requestAnimationFrame( animate );
				renderer.render(scene, camera);
			};
			animate();
		</script>
	</body>
</html>